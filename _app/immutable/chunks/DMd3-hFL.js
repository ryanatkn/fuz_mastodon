import{g as E,a8 as O,h as o,i as p,w as m,a9 as A,F as k,B as x,aa as N,D as T,ab as L,m as j,l as B,o as w,v,x as S,ac as _,ad as z}from"./D5BSqs4d.js";function D(t,n,l,s,u,d){let r=o;o&&p();var e=null;o&&m.nodeType===A&&(e=m,p());var f=o?m:t,a=new x(f,!1);E(()=>{const i=n()||null;var c=i==="svg"?N:null;if(i===null){a.ensure(null,null),_(!0);return}return a.ensure(i,h=>{if(i){if(e=o?e:c?document.createElementNS(c,i):document.createElement(i),T(e,e),s){o&&L(i)&&e.append(document.createComment(""));var g=o?j(e):e.appendChild(B());o&&(g===null?w(!1):v(g)),s(e,g)}S.nodes.end=e,h.before(e)}o&&v(h)}),_(!0),()=>{i&&_(!1)}},k),O(()=>{_(!0)}),r&&(w(!0),v(f))}const y=(t,n)=>{if(Object.is(t,n))return!0;const l=typeof t;if(l!==typeof n)return!1;switch(l){case"string":case"number":case"bigint":case"boolean":case"symbol":case"undefined":case"function":return!1}if(t===null||n===null)return!1;const s=t.constructor;if(s!==n.constructor)return!1;if(Array.isArray(t)){const r=t.length;if(n.length!==r)return!1;for(let e=0;e<r;e++)if(!y(t[e],n[e]))return!1;return!0}if(s===Set){if(t.size!==n.size)return!1;for(const r of t)if(!n.has(r))return!1;return!0}if(s===Map){if(t.size!==n.size)return!1;for(const[r,e]of t)if(!n.has(r)||!y(e,n.get(r)))return!1;return!0}if(s===RegExp)return t.source===n.source&&t.flags===n.flags;if(s===Date)return Object.is(t.getTime(),n.getTime());if(s===ArrayBuffer){if(t.byteLength!==n.byteLength)return!1;const r=new Uint8Array(t),e=new Uint8Array(n),f=t.byteLength;for(let a=0;a<f;a++)if(r[a]!==e[a])return!1;return!0}if(ArrayBuffer.isView(t)){if(s===DataView){const e=t.byteLength;if(n.byteLength!==e)return!1;for(let f=0;f<e;f++)if(t.getUint8(f)!==n.getUint8(f))return!1;return!0}if(n.length!==t.length)return!1;const r=t.length;for(let e=0;e<r;e++)if(t[e]!==n[e])return!1;return!0}if(s===Number)return Object.is(t.valueOf(),n.valueOf());if(s===Boolean)return t.valueOf()===n.valueOf();if(s===Error)return t.message===n.message&&t.name===n.name;if(s===Promise)return!1;const u=Object.keys(t),d=u.length;if(d!==Object.keys(n).length)return!1;for(let r=0;r<d;r++){const e=u[r];if(!(e in n)||!y(t[e],n[e]))return!1}return!0},M=t=>n=>{let l=!1,s=0,u=null,d,r,e,f;const a=()=>{if(!u)return;const i=u;u.disconnect(),e&&e({intersecting:l,intersections:s,el:n,observer:i}),u=null};return z(()=>{const i=t();if(i==null){r=void 0,e=void 0,f=void 0,u&&a();return}let c;if(typeof i=="function"?(r=i,e=void 0,f=void 0,c=void 0):(r=i.onintersect,e=i.ondisconnect,f=i.count,c=i.options),f===0){u&&a();return}(!y(d,c)||!u)&&(u&&a(),l=!1,s=0,d=c,u=new IntersectionObserver(g=>{l=g[0].isIntersecting,r&&u&&r({intersecting:l,intersections:s,el:n,observer:u,disconnect:a}),l?s++:f&&f>0&&s>=f&&a()},c),u.observe(n))}),a};export{D as e,M as i};
