import"./DsnmJJEf.js";import{p as A,ad as P,N as t,ae as v,Y as r,af as X,f as R,d as p,L as z,r as w,t as L,b as k,c as S,aj as Y,ak as F,s as G,K as H,a as J,al as M}from"./DVm1S4SW.js";import{i as Q}from"./-S1StAWN.js";import{s as V,b as W,t as Z}from"./BPagG1aA.js";import{b as D}from"./B_e1Ak2L.js";import{p as b}from"./BX03remG.js";import{w as $}from"./D6Iss_8Z.js";const ee=a=>{if(!a)return!1;const{tagName:e}=a;return e==="INPUT"&&a.type!=="hidden"||e==="TEXTAREA"||a.contentEditable==="true"||a.contentEditable===""},fe=a=>{const e=a.closest("[contenteditable]");return e!==null&&e.contentEditable!=="false"},te=(a,e=!0,s=!0)=>(s&&a.preventDefault(),e?a.stopImmediatePropagation():a.stopPropagation(),a),ve=()=>{if(typeof window>"u")return!1;try{return window.self!==window.top}catch{return!1}};var ae=R('<div class="teleport svelte-1w7t70l"><!></div>');function oe(a,e){A(e,!0);let s=v(void 0);P(()=>{t(s)&&e.to&&E(t(s),e.to)});let g=v(!1);const E=(c,i)=>{r(g,!0),i.appendChild(c),e.onmove?.(c,i)};X(()=>{t(s)?.parentNode?.removeChild(t(s))});var l=ae(),y=p(l);z(y,()=>e.children),w(l),D(l,c=>r(s,c),()=>t(s)),L(()=>V(l,"hidden",!t(g))),k(a,l),S()}var ne=R('<div role="dialog" aria-modal="true" tabindex="-1"><div class="dialog_layout svelte-8u0dsw"><div class="dialog_wrapper svelte-8u0dsw" role="none"><div class="dialog_bg svelte-8u0dsw" aria-hidden="true"></div> <div class="dialog_content svelte-8u0dsw"><!></div></div></div></div>');function _e(a,e){A(e,!0);const s=b(e,"layout",3,"centered"),g=b(e,"index",3,0),E=b(e,"active",3,!0),l=b(e,"content_selector",3,".pane"),y="body",c="fuz_dialog";let i=v(void 0);P(()=>{j(e.container)});const j=o=>{if(o)r(i,o,!0);else{const u=document.getElementById(c);if(u)r(i,u,!0);else{const n=document.querySelector(y);if(!n)throw Error(`Cannot find dialog root element with selector '${y}'`);r(i,document.createElement("div"),!0),t(i).id=c,t(i).style.display="contents",n.appendChild(t(i))}}};let h=v(void 0),_=v(void 0);const x=o=>{o&&te(o),e.onclose?.()},q=o=>{if(o.key==="Escape"&&!ee(o.target)){const u=t(h)?.parentElement,n=u?.parentElement?.children,m=Array.prototype.indexOf.call(n,u);(!n||m===n.length-1||m===-1)&&x(o)}};let T=v(!1);Y("keydown",F,function(...o){(E()?q:void 0)?.apply(this,o)}),oe(a,{get to(){return t(i)},onmove:async()=>{await $(),r(T,!0),t(h)?.focus()},children:(o,u)=>{var n=ne();let m,I;var O=p(n),C=p(O);C.__mousedown=d=>{const f=d.target;t(_)&&(t(_)===f||!t(_).contains(f)||l()&&!f.closest(l()))&&x(d)};var N=G(p(C),2),B=p(N);{var K=d=>{var f=H(),U=J(f);z(U,()=>e.children,()=>x),k(d,f)};Q(B,d=>{t(T)&&d(K)})}w(N),D(N,d=>r(_,d),()=>t(_)),w(C),w(O),w(n),D(n,d=>r(h,d),()=>t(h)),L(()=>{m=W(n,1,"dialog svelte-8u0dsw",null,m,{ready:t(T),layout_page:s()==="page"}),I=Z(n,"",I,{"z-index":100+g()})}),k(o,n)},$$slots:{default:!0}}),S()}M(["mousedown"]);export{_e as D,ee as a,fe as b,ve as i,te as s};
